# CMSå†…å®¹ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŸºäºSpring Boot + Vue 3çš„è½»é‡çº§å†…å®¹ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨DDDæ¶æ„è®¾è®¡ï¼Œæ”¯æŒMarkdownå†…å®¹ç¼–è¾‘å’Œå±•ç¤ºã€‚

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªå®Œæ•´çš„CMSç³»ç»ŸMVPç‰ˆæœ¬ï¼ŒåŒ…å«å‰å°å†…å®¹å±•ç¤ºå’Œåå°ç®¡ç†åŠŸèƒ½ã€‚ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œåç«¯ä½¿ç”¨DDDé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼Œå‰ç«¯ä½¿ç”¨Vue 3ç°ä»£åŒ–æ¡†æ¶ã€‚

### æ ¸å¿ƒåŠŸèƒ½

**å‰å°å±•ç¤º**ï¼š
- å†…å®¹åˆ—è¡¨ï¼ˆæŒ‰å‘å¸ƒæ—¶é—´é™åºï¼‰
- å†…å®¹è¯¦æƒ…ï¼ˆMarkdownæ¸²æŸ“ä¸ºHTMLï¼‰

**åå°ç®¡ç†**ï¼š
- åˆ†ç±»ç®¡ç†ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- å†…å®¹ç®¡ç†ï¼ˆå¢åˆ æ”¹æŸ¥ã€å‘å¸ƒ/è‰ç¨¿ï¼‰
- Markdownç¼–è¾‘å™¨ï¼ˆå®æ—¶é¢„è§ˆï¼‰

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- Markdownæ–‡ä»¶ä¸Šä¼ /åœ¨çº¿ç¼–è¾‘
- å†…å®¹ä¿å­˜æ—¶è‡ªåŠ¨æ¸²æŸ“ä¸ºHTML
- å‰å°å±•ç¤ºæ¸²æŸ“åçš„æœ€ç»ˆå†…å®¹

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **è¯­è¨€**: Java 11
- **æ¡†æ¶**: Spring Boot 2.7.18
- **æ¶æ„**: DDDåˆ†å±‚æ¶æ„
- **æ•°æ®åº“**: H2å†…å­˜æ•°æ®åº“
- **Markdownæ¸²æŸ“**: commonmark-java 0.21.0
- **æ„å»ºå·¥å…·**: Maven

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Vue 3
- **è·¯ç”±**: Vue Router 4
- **UIç»„ä»¶åº“**: Element Plus
- **HTTPå®¢æˆ·ç«¯**: Axios
- **Markdownæ¸²æŸ“**: markdown-it
- **æ„å»ºå·¥å…·**: Vue CLI

### éƒ¨ç½²æ¶æ„
- **å‰ç«¯**: http-serverï¼ˆç«¯å£3000ï¼‰
- **åç«¯**: Spring Boot jarï¼ˆç«¯å£8080ï¼‰
- **é€šä¿¡**: RESTful API + CORS

## ğŸ“ é¡¹ç›®ç»“æ„

```
java/
â”œâ”€â”€ backend/                    # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/main/java/com/cms/
â”‚   â”‚   â”œâ”€â”€ presentation/       # å±•ç¤ºå±‚ï¼ˆControllerï¼‰
â”‚   â”‚   â”œâ”€â”€ application/        # åº”ç”¨å±‚ï¼ˆServiceã€DTOï¼‰
â”‚   â”‚   â”œâ”€â”€ domain/             # é¢†åŸŸå±‚ï¼ˆå®ä½“ã€ä»“å‚¨æ¥å£ã€é¢†åŸŸæœåŠ¡ï¼‰
â”‚   â”‚   â”œâ”€â”€ infrastructure/     # åŸºç¡€è®¾æ–½å±‚ï¼ˆä»“å‚¨å®ç°ã€é…ç½®ï¼‰
â”‚   â”‚   â””â”€â”€ CmsApplication.java # å¯åŠ¨ç±»
â”‚   â”œâ”€â”€ src/main/resources/
â”‚   â”‚   â””â”€â”€ application.yml     # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ pom.xml
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ frontend/                   # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/                # APIæ¥å£
â”‚   â”‚   â”œâ”€â”€ components/         # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”‚   â”œâ”€â”€ frontend/       # å‰å°é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ admin/          # åå°é¡µé¢
â”‚   â”‚   â”œâ”€â”€ App.vue
â”‚   â”‚   â””â”€â”€ main.js
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ deploy.sh                   # Linux/Macéƒ¨ç½²è„šæœ¬
â”œâ”€â”€ deploy.cmd                  # Windowséƒ¨ç½²è„šæœ¬
â”œâ”€â”€ shutdown.sh                 # Linux/Macåœæ­¢è„šæœ¬
â”œâ”€â”€ shutdown.cmd                # Windowsåœæ­¢è„šæœ¬
â””â”€â”€ README.md                   # é¡¹ç›®æ€»è¯´æ˜ï¼ˆæœ¬æ–‡ä»¶ï¼‰
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### Linux/Mac

```bash
# éƒ¨ç½²å‰ç«¯å’Œåç«¯
./deploy.sh

# æˆ–å•ç‹¬éƒ¨ç½²
./deploy.sh frontend   # ä»…éƒ¨ç½²å‰ç«¯
./deploy.sh backend    # ä»…éƒ¨ç½²åç«¯
```

#### Windows

```cmd
REM éƒ¨ç½²å‰ç«¯å’Œåç«¯
deploy.cmd

REM æˆ–å•ç‹¬éƒ¨ç½²
deploy.cmd frontend   REM ä»…éƒ¨ç½²å‰ç«¯
deploy.cmd backend    REM ä»…éƒ¨ç½²åç«¯
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

#### åç«¯éƒ¨ç½²

```bash
cd backend
mvn clean package -DskipTests
java -jar target/cms-backend.jar
```

#### å‰ç«¯éƒ¨ç½²

```bash
cd frontend
npm install
npm run build
npx http-server dist -p 3000
```

### è®¿é—®ç³»ç»Ÿ

- **å‰å°é¦–é¡µ**: http://localhost:3000
- **åå°ç®¡ç†**: http://localhost:3000/admin/categories
- **åç«¯API**: http://localhost:8080/api
- **H2æ§åˆ¶å°**: http://localhost:8080/h2-console

## ğŸ›‘ åœæ­¢æœåŠ¡

### Linux/Mac

```bash
# åœæ­¢å‰ç«¯å’Œåç«¯
./shutdown.sh

# æˆ–å•ç‹¬åœæ­¢
./shutdown.sh frontend   # ä»…åœæ­¢å‰ç«¯
./shutdown.sh backend    # ä»…åœæ­¢åç«¯
```

### Windows

```cmd
REM åœæ­¢å‰ç«¯å’Œåç«¯
shutdown.cmd

REM æˆ–å•ç‹¬åœæ­¢
shutdown.cmd frontend   REM ä»…åœæ­¢å‰ç«¯
shutdown.cmd backend    REM ä»…åœæ­¢åç«¯
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1. ç®¡ç†åˆ†ç±»

1. è®¿é—® http://localhost:3000/admin/categories
2. ç‚¹å‡»"æ–°å¢åˆ†ç±»"åˆ›å»ºåˆ†ç±»
3. å¡«å†™åˆ†ç±»åç§°å’Œæè¿°
4. å¯ä»¥ç¼–è¾‘æˆ–åˆ é™¤åˆ†ç±»ï¼ˆåˆ é™¤å‰ä¼šæ£€æŸ¥æ˜¯å¦æœ‰å…³è”å†…å®¹ï¼‰

### 2. ç®¡ç†å†…å®¹

1. è®¿é—® http://localhost:3000/admin/contents
2. ç‚¹å‡»"æ–°å¢å†…å®¹"åˆ›å»ºå†…å®¹
3. å¡«å†™æ ‡é¢˜ã€é€‰æ‹©åˆ†ç±»
4. åœ¨Markdownç¼–è¾‘å™¨ä¸­ç¼–å†™å†…å®¹ï¼ˆå·¦ä¾§ç¼–è¾‘ï¼Œå³ä¾§å®æ—¶é¢„è§ˆï¼‰
5. ä¿å­˜åå†…å®¹å¤„äº"è‰ç¨¿"çŠ¶æ€
6. ç‚¹å‡»"å‘å¸ƒ"æŒ‰é’®å‘å¸ƒå†…å®¹

### 3. æŸ¥çœ‹å‰å°

1. è®¿é—® http://localhost:3000
2. æŸ¥çœ‹å·²å‘å¸ƒå†…å®¹åˆ—è¡¨
3. ç‚¹å‡»å†…å®¹å¡ç‰‡æŸ¥çœ‹è¯¦æƒ…

## âš™ï¸ å¼€å‘è¯´æ˜

### åç«¯å¼€å‘

```bash
cd backend
mvn spring-boot:run
```

è®¿é—®ï¼šhttp://localhost:8080

**H2æ•°æ®åº“æ§åˆ¶å°**ï¼šhttp://localhost:8080/h2-console
- JDBC URL: `jdbc:h2:mem:cmsdb`
- Username: `sa`
- Password: ï¼ˆç•™ç©ºï¼‰

### å‰ç«¯å¼€å‘

```bash
cd frontend
npm install
npm run serve
```

è®¿é—®ï¼šhttp://localhost:3000

## âš ï¸ é‡è¦è¯´æ˜

### æ•°æ®æŒä¹…åŒ–

**æœ¬é¡¹ç›®ä½¿ç”¨H2å†…å­˜æ•°æ®åº“ï¼Œåº”ç”¨é‡å¯åæ•°æ®ä¼šä¸¢å¤±ã€‚** è¿™æ˜¯MVPç‰ˆæœ¬çš„è®¾è®¡ç‰¹æ€§ã€‚

å¦‚éœ€ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼Œè¯·ï¼š
1. å°†H2æ›¿æ¢ä¸ºæŒä¹…åŒ–æ•°æ®åº“ï¼ˆMySQLã€PostgreSQLç­‰ï¼‰
2. ä¿®æ”¹ `backend/src/main/resources/application.yml` ä¸­çš„æ•°æ®åº“é…ç½®
3. æ·»åŠ å¯¹åº”æ•°æ®åº“çš„Mavenä¾èµ–

### Markdownæ¸²æŸ“å·®å¼‚

- **å‰ç«¯**: ä½¿ç”¨ markdown-it è¿›è¡Œå®æ—¶é¢„è§ˆ
- **åç«¯**: ä½¿ç”¨ commonmark-java æ¸²æŸ“å¹¶å­˜å‚¨HTML

ä¸¤è€…åŸºäºCommonMarkè§„èŒƒï¼Œè¯­æ³•åŸºæœ¬ä¸€è‡´ï¼Œä½†å¯èƒ½å­˜åœ¨ç»†å¾®å·®å¼‚ã€‚

## ğŸ¯ DDDæ¶æ„è®¾è®¡

### é¢†åŸŸæ¨¡å‹

**Categoryï¼ˆåˆ†ç±»èšåˆæ ¹ï¼‰**ï¼š
- ä¸šåŠ¡æ–¹æ³•ï¼šcreate()ã€updateInfo()ã€canBeDeleted()

**Contentï¼ˆå†…å®¹èšåˆæ ¹ï¼‰**ï¼š
- ä¸šåŠ¡æ–¹æ³•ï¼šcreate()ã€updateContent()ã€publish()ã€unpublish()ã€isPublished()

**ContentStatusï¼ˆå†…å®¹çŠ¶æ€å€¼å¯¹è±¡ï¼‰**ï¼š
- æšä¸¾ï¼šDRAFTï¼ˆè‰ç¨¿ï¼‰ã€PUBLISHEDï¼ˆå·²å‘å¸ƒï¼‰

### æ¶æ„åˆ†å±‚

1. **å±•ç¤ºå±‚ï¼ˆPresentationï¼‰**: REST Controller
2. **åº”ç”¨å±‚ï¼ˆApplicationï¼‰**: åº”ç”¨æœåŠ¡ã€DTO
3. **é¢†åŸŸå±‚ï¼ˆDomainï¼‰**: å®ä½“ã€å€¼å¯¹è±¡ã€é¢†åŸŸæœåŠ¡ã€ä»“å‚¨æ¥å£
4. **åŸºç¡€è®¾æ–½å±‚ï¼ˆInfrastructureï¼‰**: ä»“å‚¨å®ç°ã€é…ç½®

## ğŸ“¡ APIæ¥å£

### åˆ†ç±»ç®¡ç†æ¥å£
- `POST /api/categories` - åˆ›å»ºåˆ†ç±»
- `GET /api/categories` - æŸ¥è¯¢æ‰€æœ‰åˆ†ç±»
- `GET /api/categories/{id}` - æŸ¥è¯¢å•ä¸ªåˆ†ç±»
- `PUT /api/categories/{id}` - æ›´æ–°åˆ†ç±»
- `DELETE /api/categories/{id}` - åˆ é™¤åˆ†ç±»

### å†…å®¹ç®¡ç†æ¥å£
- `POST /api/contents` - åˆ›å»ºå†…å®¹
- `GET /api/contents` - æŸ¥è¯¢å†…å®¹åˆ—è¡¨ï¼ˆæ”¯æŒçŠ¶æ€ç­›é€‰ï¼‰
- `GET /api/contents/{id}` - æŸ¥è¯¢å•ä¸ªå†…å®¹
- `PUT /api/contents/{id}` - æ›´æ–°å†…å®¹
- `DELETE /api/contents/{id}` - åˆ é™¤å†…å®¹
- `PUT /api/contents/{id}/publish` - å‘å¸ƒå†…å®¹
- `PUT /api/contents/{id}/unpublish` - å–æ¶ˆå‘å¸ƒ

### å‰å°æŸ¥è¯¢æ¥å£
- `GET /api/frontend/contents` - æŸ¥è¯¢å·²å‘å¸ƒå†…å®¹ï¼ˆæŒ‰å‘å¸ƒæ—¶é—´é™åºï¼‰
- `GET /api/frontend/contents/{id}` - æŸ¥è¯¢å·²å‘å¸ƒå†…å®¹è¯¦æƒ…

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestã€‚

## ğŸ“„ è®¸å¯è¯

MIT License

---

**å¼€å‘è€…**: jxin  
**åˆ›å»ºæ—¥æœŸ**: 2026-02-11  
**ç‰ˆæœ¬**: 1.0.0 MVP
