"use strict";(self["webpackChunkcms_frontend"]=self["webpackChunkcms_frontend"]||[]).push([[238],{5238(t,n,e){e.r(n),e.d(n,{default:()=>b});var o=e(641),a=e(33);const l={class:"content-list-container"},r={key:0,class:"loading"},u={key:1,class:"empty"},s={key:2,class:"content-grid"},c={class:"meta"},i={class:"time"};function d(t,n,e,d,m,g){const h=(0,o.g2)("el-button"),f=(0,o.g2)("el-header"),k=(0,o.g2)("Loading"),p=(0,o.g2)("el-icon"),v=(0,o.g2)("el-tag"),C=(0,o.g2)("el-card"),b=(0,o.g2)("el-main"),_=(0,o.g2)("el-container");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.bF)(_,null,{default:(0,o.k6)(()=>[(0,o.bF)(f,{class:"header"},{default:(0,o.k6)(()=>[n[1]||(n[1]=(0,o.Lk)("h1",null,"CMS内容管理系统",-1)),(0,o.bF)(h,{type:"primary",onClick:d.goToAdmin},{default:(0,o.k6)(()=>[...n[0]||(n[0]=[(0,o.eW)("进入后台管理",-1)])]),_:1},8,["onClick"])]),_:1}),(0,o.bF)(b,null,{default:(0,o.k6)(()=>[d.loading?((0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)(p,{class:"is-loading"},{default:(0,o.k6)(()=>[(0,o.bF)(k)]),_:1}),n[2]||(n[2]=(0,o.eW)(" 加载中... ",-1))])):0===d.contentList.length?((0,o.uX)(),(0,o.CE)("div",u," 暂无已发布内容 ")):((0,o.uX)(),(0,o.CE)("div",s,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.contentList,t=>((0,o.uX)(),(0,o.Wv)(C,{key:t.id,class:"content-card",shadow:"hover",onClick:n=>d.goToDetail(t.id)},{default:(0,o.k6)(()=>[(0,o.Lk)("h2",null,(0,a.v_)(t.title),1),(0,o.Lk)("div",c,[(0,o.bF)(v,{size:"small"},{default:(0,o.k6)(()=>[(0,o.eW)((0,a.v_)(t.categoryName),1)]),_:2},1024),(0,o.Lk)("span",i,(0,a.v_)(d.formatTime(t.publishTime)),1)])]),_:2},1032,["onClick"]))),128))]))]),_:1})]),_:1})])}var m=e(953),g=e(1029),h=e(2506),f=e(5531),k=e(8548);const p={name:"ContentList",components:{Loading:k.Loading},setup(){const t=(0,g.rd)(),n=(0,m.KR)([]),e=(0,m.KR)(!1),a=async()=>{e.value=!0;try{n.value=await(0,h.hk)()}catch(t){console.error("加载内容失败:",t),f.nk.error("加载内容失败")}finally{e.value=!1}},l=n=>{t.push({name:"ContentDetail",params:{id:n}})},r=()=>{t.push({name:"CategoryManage"})},u=t=>{if(!t)return"";const n=new Date(t);return n.toLocaleDateString("zh-CN")};return(0,o.sV)(()=>{a()}),{contentList:n,loading:e,goToDetail:l,goToAdmin:r,formatTime:u}}};var v=e(6262);const C=(0,v.A)(p,[["render",d],["__scopeId","data-v-1e5181c9"]]),b=C},2506(t,n,e){e.d(n,{bz:()=>s,hE:()=>a,hk:()=>i,le:()=>r,q0:()=>d,sY:()=>l,uD:()=>c,vE:()=>u});var o=e(5213);function a(t){return(0,o.A)({url:"/contents",method:"get",params:{status:t}})}function l(t){return(0,o.A)({url:"/contents",method:"post",data:t})}function r(t,n){return(0,o.A)({url:`/contents/${t}`,method:"put",data:n})}function u(t){return(0,o.A)({url:`/contents/${t}`,method:"delete"})}function s(t){return(0,o.A)({url:`/contents/${t}/publish`,method:"put"})}function c(t){return(0,o.A)({url:`/contents/${t}/unpublish`,method:"put"})}function i(){return(0,o.A)({url:"/frontend/contents",method:"get"})}function d(t){return(0,o.A)({url:`/frontend/contents/${t}`,method:"get"})}}}]);
//# sourceMappingURL=238.a5e53100.js.map